{% extends 'base/base.html' %}
{% load static %}
{% block title_h2 %}{{ object.title }}{% endblock %}
{% block content %}
    <div class="masthead-content">
        <div class="container px-5">
            <div class="container-fluid p-0">
                <h3>{{ object.category }}</h3>
                <img src="{{ object.couverture }}" alt="{{ object.title }}" width="200" height="300">
                <div class="row g-0">
                    <p>ISBN: {{ object.ISBN }}</p>
                    <p>Nombre de pages: {{ object.count_pages }}</p>
                    <p>Edition: {{ object.edition.name }}</p>
                    <p>Auteur: {{ object.author }}</p>
                    <form method="post" action="{% url 'createLibrary' %}">
                        {% csrf_token %}
                        <input type="hidden" name="book_slug" value={{ object.slug }}>
                        <input type="submit" value="ajouter à la bibliothèque" class="btn btn-success">
                    </form>
                    <h5 class="mt-3">Commentaires</h5>
                    {% with comments=object.commentary_set.all %}
                        {% for comment in comments %}
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title text-dark">{{ comment.title }}</h5>
                                    <h6 class="card-subtitle mb-2 text-dark">{{ comment.user }}</h6>
                                    <p class="card-text text-dark">{{ comment.commentary }}</p>
                                    <p class="card-text text-dark"><small class="text-muted">Notation : {{ comment.notation }}</small></p>
                                </div>
                            </div>
                        {% endfor %}
                    {% endwith %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}